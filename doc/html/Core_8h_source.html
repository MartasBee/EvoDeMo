<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>EvoDeMo: Core.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>Core.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> *  Project:      EvoDeMo - Bachelor Thesis</span>
<a name="l00003"></a>00003 <span class="comment"> *  Date:         May 10, 2010 (estimated)</span>
<a name="l00004"></a>00004 <span class="comment"> **</span>
<a name="l00005"></a>00005 <span class="comment"> *  Author:       Martin Balaz</span>
<a name="l00006"></a>00006 <span class="comment"> *  Contact:      balaz.marti@gmail.com</span>
<a name="l00007"></a>00007 <span class="comment"> *                xbalaz00@stud.fit.vutbr.cz</span>
<a name="l00008"></a>00008 <span class="comment"> **</span>
<a name="l00009"></a>00009 <span class="comment"> *  Institution:  Brno University of Technology</span>
<a name="l00010"></a>00010 <span class="comment"> *                Faculty of Information Technology</span>
<a name="l00011"></a>00011 <span class="comment"> *                www.fit.vutbr.cz</span>
<a name="l00012"></a>00012 <span class="comment"> **</span>
<a name="l00013"></a>00013 <span class="comment"> *  Copyright (c) 2010 by Martin Balaz</span>
<a name="l00014"></a>00014 <span class="comment"> */</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="comment">//==============================================================</span>
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="preprocessor">#ifndef CORE_H</span>
<a name="l00019"></a>00019 <span class="preprocessor"></span><span class="preprocessor">#define CORE_H</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span>
<a name="l00021"></a>00021 <span class="comment">//==============================================================</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;QObject&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;QMutex&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;QWaitCondition&gt;</span>
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;ThreadCore.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;ConfigCore.h&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;ca/space/Space.h&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;ga/Genome.h&quot;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;Defines.h&quot;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="comment">//==============================================================</span>
<a name="l00049"></a><a class="code" href="classCCore.html">00049</a> <span class="comment"></span><span class="keyword">class </span><a class="code" href="classCCore.html">CCore</a> : <span class="keyword">public</span> QObject
<a name="l00050"></a>00050 {
<a name="l00051"></a>00051   Q_OBJECT
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="keyword">public</span>:
<a name="l00054"></a>00054   <a class="code" href="classCCore.html#a4c7b83e9a0113f0d4eb0c1d86e6d6be7">CCore</a>();
<a name="l00055"></a>00055   <a class="code" href="classCCore.html#ad0d1b93c70b1225137690ecb205d49bd">~CCore</a>();
<a name="l00056"></a>00056 
<a name="l00057"></a>00057 
<a name="l00058"></a>00058   <span class="comment">// init data structs and threads</span>
<a name="l00059"></a>00059   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#abf803abecd356eca5edff06f3ca6be33">InitGuiCore</a>();
<a name="l00060"></a>00060 
<a name="l00061"></a>00061 
<a name="l00062"></a>00062   <span class="comment">// synchronization with gui</span>
<a name="l00063"></a>00063   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#ae2e68df5908b34b15106820fde4d4de1">SetCoreDataExpiration</a>(<span class="keywordtype">bool</span> e);
<a name="l00064"></a>00064   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#abe4809ea8ec654371e2a412ecbc057ee">SetSimulationRunning</a>(<span class="keywordtype">bool</span> sr);
<a name="l00065"></a>00065   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#a799587561a1a236c5f62018fb9c7949e">SetCaRunTermination</a>();
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a>00068   <span class="comment">// start core thread</span>
<a name="l00069"></a>00069   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#ab23cb1edf937f04342dfbbc7c2e1e45a">StartThreadCore</a>();
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00072"></a>00072   <span class="comment">// check if init is done</span>
<a name="l00073"></a>00073   <span class="keywordtype">bool</span> <a class="code" href="classCCore.html#a9cc1459df131a2757809f13e2af2bf9e">IsInitDone</a>();
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076   <span class="comment">// get pointer to config class</span>
<a name="l00077"></a>00077   <a class="code" href="classCConfigCore.html">CConfigCore</a> *<a class="code" href="classCCore.html#a08ea111ccd738ddbc2d29ec3c9ac3443">GetConfigCore</a>();
<a name="l00078"></a>00078 
<a name="l00079"></a>00079   <span class="comment">// get pointer to ca space classes from core</span>
<a name="l00080"></a>00080   <a class="code" href="classCSpace.html">CSpace</a> *<a class="code" href="classCCore.html#a3eebffde003b3ae3e724136521739e12">GetSpace</a>();
<a name="l00081"></a>00081 
<a name="l00082"></a>00082 
<a name="l00083"></a>00083   <span class="comment">// ga statistical data</span>
<a name="l00084"></a>00084   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#a18ce09c76b45dd18a7932c4832f61300">GetSimCoreGenerationID</a>();
<a name="l00085"></a>00085   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#acad2cd2c8de535f03515281b58c643a6">GetSimCoreChromosomeID</a>();
<a name="l00086"></a>00086   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#ab1b7b2beb189d420eac4f2af40d883c2">GetSimCoreAncestorsCount</a>();
<a name="l00087"></a>00087   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#a0de6196e934c38a12fd26875b5e020be">GetSimCoreFitnessMax</a>();
<a name="l00088"></a>00088   <span class="keywordtype">double</span> <a class="code" href="classCCore.html#a383218fe410dd8425ede9772277e708f">GetSimCoreFitnessMaxNorm</a>();
<a name="l00089"></a>00089   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#a15daf074c713232f20f772b20098e716">GetSimCoreDifferentionMin</a>();
<a name="l00090"></a>00090   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#a974f6f52d6cb6362718c7e1a06a767c9">GetSimCoreFitMaxStepCA</a>();
<a name="l00091"></a>00091   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#a07b0206d4fc75b23bd8da7660d8efc1a">GetSimCoreSameChromosomesCount</a>();
<a name="l00092"></a>00092   <span class="keywordtype">double</span> <a class="code" href="classCCore.html#aa6634f29c320ed9110ce82eed156b05d">GetSimCoreSameChromosomesGenerationAvarage</a>();
<a name="l00093"></a>00093 
<a name="l00094"></a>00094   <span class="keyword">struct </span><a class="code" href="structstThreadCoreDataGA.html">stThreadCoreDataGA</a> *<a class="code" href="classCCore.html#a4ddbbc5f50ff19b2d2b9095792b648a6">GetSimCoreDataStruct</a>();
<a name="l00095"></a>00095 
<a name="l00096"></a>00096   <span class="comment">// get error flag</span>
<a name="l00097"></a>00097   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#a86ddf9496601836d1dae7432279fd044">GetErrorFlag</a>();
<a name="l00098"></a>00098 
<a name="l00099"></a>00099 
<a name="l00100"></a>00100   <span class="comment">// print CConfigCore debug informations</span>
<a name="l00101"></a>00101   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#ae836cfc9a5b1d30a093cc92c7e0f825b">ShowDebugConfigCore</a>();
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 signals:
<a name="l00104"></a>00104   <span class="keywordtype">void</span> SignalThreadCoreErr(<span class="keywordtype">int</span>);
<a name="l00105"></a>00105   <span class="keywordtype">void</span> SignalThreadCoreState(<span class="keywordtype">int</span>);
<a name="l00106"></a>00106   <span class="keywordtype">void</span> SignalNewDataAvailable();
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 <span class="keyword">private</span> slots:
<a name="l00109"></a>00109   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#a8da26ce21ea70fb3c31978e6d2fce17e">ThreadCoreErrorSlot</a>(<span class="keywordtype">int</span> err);
<a name="l00110"></a>00110   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#a201541672b99640948959c4022f8cda4">ThreadCoreCheckCoreInitDone</a>();
<a name="l00111"></a>00111   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#a05760021352ea7bdb7304d7d0f2a61eb">ThreadCoreNewDataAvailable</a>();
<a name="l00112"></a>00112 
<a name="l00113"></a>00113   <span class="keywordtype">void</span> <a class="code" href="classCCore.html#a6b1594d8d1a21121d0db95c5e9a8fabd">ThreadCoreState</a>(<span class="keywordtype">int</span> s);
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 <span class="keyword">private</span>:
<a name="l00116"></a><a class="code" href="classCCore.html#a88cfee1f612c96f3bfede6a20ca5cabd">00116</a>   <a class="code" href="classCConfigCore.html">CConfigCore</a>  <a class="code" href="classCCore.html#a88cfee1f612c96f3bfede6a20ca5cabd" title="config class">configCore</a>;            
<a name="l00117"></a>00117 
<a name="l00118"></a><a class="code" href="classCCore.html#a6813b6f89b401a896381a19b04fc509a">00118</a>   <span class="keywordtype">bool</span> <a class="code" href="classCCore.html#a6813b6f89b401a896381a19b04fc509a" title="are data from this class already displayed in gui?">bCoreDataExpired</a>;              
<a name="l00119"></a><a class="code" href="classCCore.html#ad0b15abbb2cfc189f6639b1e45041a6d">00119</a>   <span class="keywordtype">bool</span> <a class="code" href="classCCore.html#ad0b15abbb2cfc189f6639b1e45041a6d" title="should be evolution running?">bSimRunning</a>;                   
<a name="l00120"></a>00120 
<a name="l00121"></a><a class="code" href="classCCore.html#ad6381478361c75e7be735b6003e45dbd">00121</a>   <span class="keywordtype">bool</span> <a class="code" href="classCCore.html#ad6381478361c75e7be735b6003e45dbd" title="is init done?">bInitDone</a>;                     
<a name="l00122"></a>00122 
<a name="l00123"></a><a class="code" href="classCCore.html#ad744c98c0206358039db24d89a26e913">00123</a>   <a class="code" href="classCSpace.html">CSpace</a>  *<a class="code" href="classCCore.html#ad744c98c0206358039db24d89a26e913" title="pointer to ca space class">space</a>;                     
<a name="l00124"></a><a class="code" href="classCCore.html#a20b827bf2dafe610e9a5228eb9c6e7ae">00124</a>   <a class="code" href="classCGenome.html">CGenome</a> *<a class="code" href="classCCore.html#a20b827bf2dafe610e9a5228eb9c6e7ae" title="pointer to genome class">genome</a>;                    
<a name="l00125"></a>00125 
<a name="l00126"></a><a class="code" href="classCCore.html#a2699b566011cda9d1f69f36c734811ea">00126</a>   <span class="keyword">struct </span><a class="code" href="structstThreadCoreDataGA.html">stThreadCoreDataGA</a> <a class="code" href="classCCore.html#a2699b566011cda9d1f69f36c734811ea" title="ga data struct used for propagating data from thread core into gui">dataGa</a>;   
<a name="l00127"></a>00127 
<a name="l00128"></a><a class="code" href="classCCore.html#a36b1cf10df7c1d3bd036d69a109ae81b">00128</a>   QMutex <a class="code" href="classCCore.html#a36b1cf10df7c1d3bd036d69a109ae81b" title="mutex used for sync gui thread (in which this class runs) with CThreadCore thread...">mutexCore</a>;                   
<a name="l00129"></a><a class="code" href="classCCore.html#abf4a4a3ebe49dc69c3c27dd545aa4606">00129</a>   QWaitCondition <a class="code" href="classCCore.html#abf4a4a3ebe49dc69c3c27dd545aa4606" title="wait cond used for sync gui thread (in which this class runs) with CThreadCore thread...">waitCCore</a>;           
<a name="l00130"></a>00130 
<a name="l00131"></a><a class="code" href="classCCore.html#a06fcd7735c831f7dcf1e855313dab8a5">00131</a>   <a class="code" href="classCThreadCore.html">CThreadCore</a> *<a class="code" href="classCCore.html#a06fcd7735c831f7dcf1e855313dab8a5" title="pointer to instance of thread core class">threadCore</a>;            
<a name="l00132"></a>00132 
<a name="l00133"></a><a class="code" href="classCCore.html#a0d7dcc59aa4cde53f4edc7006e45a2c6">00133</a>   <span class="keywordtype">int</span> <a class="code" href="classCCore.html#a0d7dcc59aa4cde53f4edc7006e45a2c6" title="error flag">iErrFlag</a>;                       
<a name="l00134"></a>00134 };
<a name="l00135"></a>00135 
<a name="l00136"></a>00136 <span class="comment">//==============================================================</span>
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="preprocessor">#endif // CORE_H</span>
<a name="l00139"></a>00139 <span class="preprocessor"></span>
<a name="l00140"></a>00140 <span class="comment">//==============================================================</span>
<a name="l00141"></a>00141 
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on Fri May 14 00:51:03 2010 for EvoDeMo by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
